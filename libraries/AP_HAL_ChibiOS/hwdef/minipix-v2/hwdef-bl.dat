 # hw definition file for processing by chibios_pins.py
 # for bootloader for mini-pix hardware from RadioLink
 
 # MCU class and specific type
 MCU HC32F4xx HC32F4A0xx
 
 # MCU pin definition
define HC32F4A0Px
 
 # board ID for firmware load
 APJ_BOARD_ID 3
 
 # crystal frequency
 OSCILLATOR_HZ 24000000
 
 define CH_CFG_ST_FREQUENCY 1875000
 
 #define NO_FASTBOOT
 
 # flash size
 FLASH_SIZE_KB 2048
 define HAL_FLASH_PROTECTION 1
 
 # don't allow bootloader to use more than 16k
 FLASH_USE_MAX_KB 40
 
 # bootloader loads at start of flash
 FLASH_RESERVE_START_KB 0
 
 # LEDs
 PB1 LED_BOOTLOADER OUTPUT LOW RESET
 PE12 LED_ACTIVITY  OUTPUT LOW RESET
 define HAL_LED_ON 0
 
 # the location where the bootloader will put the firmware
 FLASH_BOOTLOADER_LOAD_KB 184
 
 # order of UARTs (and USB)
 SERIAL_ORDER OTG1
 
 PA9 USBFS_VBUS INPUT OPENDRAIN RESET
 
 # USB pins
 PA11 USBFS_DM OTG1 RESET
 PA12 USBFS_DP OTG1 RESET
 
 # Add CS pins to ensure they are high in bootloader
 PC2 LPS22HB_CS CS HIGH
 PC15 MPU6500_CS CS HIGH
 PD10 FRAM_CS CS HIGH
 
 #MAIN_STACK 0x180
 #PROCESS_STACK 0x2000